<div class="image-with-text" data-speed="{{ section.settings.parallax_speed | default: 1.1 }}">
  <div class="page-width">
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 items-center{% if section.settings.layout == 'text_first' %} lg:flex-row-reverse{% endif %}">
      
      <div class="image-container">
        {% if section.settings.image %}
          {{ section.settings.image | image_url: width: 800, height: 600 | image_tag: loading: 'lazy', width: '800', height: '600', alt: section.settings.image.alt, class: 'w-full rounded-lg' }}
        {% else %}
          {{ 'lifestyle-1' | placeholder_svg_tag: 'w-full h-64 bg-gray-200 rounded-lg' }}
        {% endif %}
      </div>

      <div class="content">
        {% if section.settings.heading %}
          <h2 class="text-3xl lg:text-4xl font-bold mb-4">{{ section.settings.heading }}</h2>
        {% endif %}
        {% if section.settings.text %}
          <div class="text-lg mb-6">{{ section.settings.text }}</div>
        {% endif %}
        {% if section.settings.button_text and section.settings.button_link %}
          <a href="{{ section.settings.button_link }}" class="inline-block bg-primary-600 text-white px-6 py-3 rounded-lg hover:bg-primary-700 transition-colors">
            {{ section.settings.button_text }}
          </a>
        {% endif %}
      </div>

    </div>
  </div>
</div>

{% schema %}
{
  "name": "Image with text",
  "settings": [
    {
      "type": "image_picker",
      "id": "image",
      "label": "Image"
    },
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "Our Story"
    },
    {
      "type": "richtext",
      "id": "text",
      "label": "Description",
      "default": "<p>Every piece tells a story. Crafted with passion, designed to shine.</p>"
    },
    {
      "type": "text",
      "id": "button_text",
      "label": "Button text",
      "default": "Learn More"
    },
    {
      "type": "url",
      "id": "button_link",
      "label": "Button link"
    },
    {
      "type": "select",
      "id": "layout",
      "options": [
        {"value": "image_first", "label": "Image first"},
        {"value": "text_first", "label": "Text first"}
      ],
      "default": "image_first",
      "label": "Layout"
    },
    {
      "type": "range",
      "id": "parallax_speed",
      "min": 0.1,
      "max": 2.0,
      "step": 0.1,
      "default": 1.1,
      "label": "Parallax speed"
    }
  ],
  "presets": [{"name": "Image with text"}]
}
{% endschema %}
