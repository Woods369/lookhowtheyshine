<!doctype html>
<html lang="{{ request.locale.iso_code }}">
  <head>
    {% # Inlined CSS Variables %}
    {% render 'css-variables' %}

    {% # Load Tailwind CSS %}
    {% comment %} Use CDN for development to get all utilities {% endcomment %}
    {% if request.host contains "myshopify.com" or request.host contains "127.0.0.1" %}
      <script defer src="https://cdn.tailwindcss.com"></script>
    {% endif %}
    {{ 'tailwind-output.css' | asset_url | stylesheet_tag }}

    {% # Social, title, etc. %}
    {% render 'meta-tags' %}

    {% if settings.favicon != blank %}
      <link rel="icon" type="image/png" href="{{ settings.favicon | image_url: width: 32, height: 32 }}">
    {% endif %}

    {{ content_for_header }}

    {% comment %} Main JS - loads after HTML parsing but before DOMContentLoaded {% endcomment %}
    <script defer src="{{ 'main.js' | asset_url }}"></script>

    {% # Critical CSS %}
    <link rel="stylesheet" href="{{ 'critical.css' | asset_url }}">
    
    <style>
      /* Reveal Footer Effect */
      body {
        padding-bottom: 200px; /* Adjust based on footer height */
      }
      
      .main-content {
        background: white;
        position: relative;
        z-index: 20;
        min-height: 100vh;
      }
    </style>
  </head>

  <body>
    <div class="main-content">
      {% sections 'header-group' %}
      {{ content_for_layout }}
    </div>
    
    {% sections 'footer-group' %}

    <script async src="{{ 'gsap.min.js' | asset_url }}"></script>
    <script async src="{{ 'ScrollTrigger.min.js' | asset_url }}"></script>
  </body>
</html>
